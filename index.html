<html>

    <head>
        <title>RELOJ by Angel</title>
        <link rel="stylesheet" type="text/css" href="reloj.css">
    </head>

    <body>
        <div ng-app="RelojApp" ng-controller="RelojController as RCtrl">
            <div class="clock">
                <span ng-if="RCtrl.lessThanTen(RCtrl.hours)">0</span>{{RCtrl.hours}}:
                <span ng-if="RCtrl.lessThanTen(RCtrl.minutes)">0</span>{{RCtrl.minutes}}:
                <span ng-if="RCtrl.lessThanTen(RCtrl.seconds)">0</span>{{RCtrl.seconds}}
                <span ng-if="!RCtrl.format24">
                    <span ng-if="isNoon">PM</span>
                <span ng-if="!isNoon">AM</span>
                </span>
                <button ng-click="RCtrl.clickFormat()"> 
                Format
                <span ng-if="!RCtrl.format24">(24h)</span>
                <span ng-if="RCtrl.format24">(12h)</span>
            </button>
            </div>

        </div>
    </body>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>
    <script>
        angular.module("RelojApp", []).controller("RelojController", ['$interval', function($interval) {


            this.init = () => {
                let date = new Date();
                this.hours = date.getHours();
                this.minutes = date.getMinutes();
                this.seconds = date.getSeconds();
                this.format24 = true;
                this.hours > 12 ? this.isNoon = true : this.isNoon = false;
            };
            this.init();

            $interval(() => {
                this.actualizarHora();
                console.log(this.format24);
            }, 1000);

            this.actualizarHora = () => {
                this.checkChangeMorS(this.seconds) ? (this.seconds = 0, this.minutes++) : this.seconds++;
                this.checkChangeMorS(this.minutes) ? (this.minutes = 0, this.hours++) : "";
                this.checkChangeH(this.hours) ? (this.hours = 0) : "";
            };
            this.checkChangeMorS = (MorS) => {
                if (MorS >= 59) {
                    return true;
                } else return false;
            };
            this.checkChangeH = (H) => {
                if (H >= 24) {
                    return true;
                } else {
                    return false;
                }
            };
            this.lessThanTen = (x) => {
                if (x < 10) {
                    return true;
                } else {
                    return false;
                }
            };
            this.clickFormat = () => {
                if (this.format24 == false && this.isNoon) {
                    this.hours += 12;
                } else if (this.format24 && this.hours > 12) {
                    this.hours -= 12;
                }
                this.format24 = !this.format24;
            };
        }]);
    </script>

</html>